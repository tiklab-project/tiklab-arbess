<assembly
        xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd">

    <id>distribution</id>
    <formats>
        <format>tar.gz</format>
    </formats>
    <fileSets>
        <fileSet>
            <directory>${basedir}/target</directory>
            <includes>
                <include>${artifactId}-${version}.jar</include>
            </includes>
            <outputDirectory>/lib</outputDirectory>
        </fileSet>
        <fileSet>
            <directory>${basedir}/src/main/resources</directory>
            <includes>
                <include>*.properties</include>
                <include>*.xml</include>
            </includes>
            <outputDirectory>/conf</outputDirectory>
        </fileSet>
        <fileSet>
            <directory>${basedir}/src/main/resources</directory>
            <includes>
                <include>Dockerfile</include>
            </includes>
            <outputDirectory>/</outputDirectory>
        </fileSet>
        <fileSet>
            <directory>${basedir}/bin-linux</directory>
            <fileMode>755</fileMode>
            <excludes>
                <exclude>*.classpath</exclude>
            </excludes>
            <outputDirectory>/bin-linux</outputDirectory>
        </fileSet>
        <fileSet>
            <directory>${basedir}/bin-windows</directory>
            <fileMode>755</fileMode>
            <excludes>
                <exclude>*.classpath</exclude>
            </excludes>
            <outputDirectory>/bin-windows</outputDirectory>
        </fileSet>
        <fileSet>
            <directory>${basedir}/plugin</directory>
            <fileMode>755</fileMode>
            <outputDirectory>/plugin</outputDirectory>
        </fileSet>
        <fileSet>
            <directory>${basedir}/etc</directory>
            <fileMode>755</fileMode>
            <outputDirectory>/etc</outputDirectory>
        </fileSet>
        <fileSet>
            <directory>${basedir}/temp</directory>
            <fileMode>755</fileMode>
            <outputDirectory>/temp</outputDirectory>
        </fileSet>
    </fileSets>

    <dependencySets>
        <dependencySet>
            <outputDirectory>comment</outputDirectory>
            <includes>
                <!--api-->
                <include>javax.activation:activation</include>
                <include>org.ow2.asm:asm</include>
                <include>org.aspectj:aspectjrt</include>
                <include>org.aspectj:aspectjweaver</include>
                <include>org.bouncycastle:bcprov-jdk15on</include>
                <include>org.checkerframework:checker-qual</include>
                <include>com.fasterxml:classmate</include>
                <include>commons-beanutils:commons-beanutils</include>
                <include>commons-codec:commons-codec</include>
                <include>commons-collections:commons-collections</include>
                <include>commons-dbcp:commons-dbcp</include>
                <include>commons-fileupload:commons-fileupload</include>
                <include>commons-lang:commons-lang</include>
                <include>commons-logging:commons-logging</include>
                <include>commons-pool:commons-pool</include>
                <include>org.apache.commons:commons-text</include>
                <include>com.aliyun:credentials-java</include>
                <include>com.aliyun:dysmsapi20170525</include>
                <include>net.sf.ehcache:ehcache</include>
                <include>com.aliyun:endpoint-util</include>
                <include>com.google.errorprone:error_prone_annotations</include>
                <include>com.google.guava:failureaccess</include>
                <include>com.alibaba:fastjson</include>
                <include>org.freemarker:freemarker</include>
                <include>com.google.code.gson:gson</include>
                <include>com.google.guava:guava</include>
                <include>com.caucho:hessian</include>
                <include>org.hibernate:hibernate-validator</include>
                <include>org.hsqldb:hsqldb</include>
                <include>org.ini4j:ini4j</include>
                <include>com.google.j2objc:j2objc-annotations</include>
                <include>com.fasterxml.jackson.core:jackson-annotations</include>
                <include>com.fasterxml.jackson.core:jackson-core</include>
                <include>com.fasterxml.jackson.core:jackson-databind</include>
                <include>com.fasterxml.jackson.datatype:jackson-datatype-jdk8</include>
                <include>com.fasterxml.jackson.datatype:jackson-datatype-jsr310</include>
                <include>com.fasterxml.jackson.module:jackson-module-parameter-names</include>
                <include>jakarta.annotation:jakarta.annotation-api</include>
                <include>org.javassist:javassist</include>
                <include>com.sun.mail:javax.mail</include>
                <include>javax.servlet:javax.servlet-api</include>
                <include>javax.xml.bind:jaxb-api</include>
                <include>com.sun.xml.bind:jaxb-core</include>
                <include>com.sun.xml.bind:jaxb-impl</include>
                <include>org.jboss.logging:jboss-logging</include>
                <include>joda-time:joda-time</include>
                <include>org.json:json</include>
                <include>com.google.code.findbugs:jsr305</include>
                <include>org.slf4j:jul-to-slf4j</include>
                <include>com.esotericsoftware:kryo</include>
                <include>com.esotericsoftware:kryo-shaded</include>
                <include>org.apache.logging.log4j:log4j-api</include>
                <include>org.apache.logging.log4j:log4j-to-slf4j</include>
                <include>ch.qos.logback:logback-classic</include>
                <include>ch.qos.logback:logback-core</include>
                <include>org.apache.lucene:lucene-analyzers-common</include>
                <include>org.apache.lucene:lucene-core</include>
                <include>org.apache.lucene:lucene-queries</include>
                <include>org.apache.lucene:lucene-queryparser</include>
                <include>org.apache.lucene:lucene-sandbox</include>
                <include>com.esotericsoftware:minlog</include>
                <include>mysql:mysql-connector-java</include>
                <include>org.jboss.netty:netty</include>
                <include>org.objenesis:objenesis</include>
                <include>ognl:ognl</include>
                <include>com.squareup.okhttp3:okhttp</include>
                <include>com.squareup.okio:okio</include>
                <include>com.aliyun:openapiutil</include>
                <include>org.jacoco:org.jacoco.agent</include>
                <include>com.google.protobuf:protobuf-java</include>
                <include>com.esotericsoftware:reflectasm</include>
                <include>org.slf4j:slf4j-api</include>
                <include>org.yaml:snakeyaml</include>
                <include>javax.validation:validation-api</include>
                <include>org.apache.tomcat.embed:tomcat-embed-websocket</include>
                <include>org.apache.tomcat.embed:tomcat-embed-el</include>
                <include>org.apache.tomcat.embed:tomcat-embed-core</include>
                <include>org.apache.tomcat:tomcat-annotations-api</include>
                <include>com.tiklab:tiklab-web-spring-boot-starter</include>
                <include>com.tiklab:tiklab-web-core</include>
                <include>com.tiklab:tiklab-utils</include>
                <include>com.tiklab:tiklab-user-spring-boot-starter</include>
                <include>com.tiklab:tiklab-toolkit-server</include>
                <include>com.tiklab:tiklab-toolkit-api</include>
                <include>com.tiklab:tiklab-rpc-spring-boot-starter</include>
                <include>com.tiklab:tiklab-rpc-server</include>
                <include>com.tiklab:tiklab-rpc-remoting</include>
                <include>com.tiklab:tiklab-rpc-common</include>
                <include>com.tiklab:tiklab-rpc-codec</include>
                <include>com.tiklab:tiklab-rpc-client</include>
                <include>com.tiklab:tiklab-rpc-annotation</include>
                <include>com.tiklab:tiklab-privilege-spring-boot-starter</include>
                <include>com.tiklab:tiklab-postin-annotation</include>
                <include>com.tiklab:tiklab-plugin-spring-boot-starter</include>
                <include>com.tiklab:tiklab-message-spring-boot-starter</include>
                <include>com.tiklab:tiklab-licence-spring-boot-starter</include>
                <include>com.tiklab:tiklab-join-core</include>
                <include>com.tiklab:tiklab-join-annotation</include>
                <include>com.tiklab:tiklab-eas-spring-boot-stater</include>
                <include>com.tiklab:tiklab-eam-spring-boot-starter</include>
                <include>com.tiklab:tiklab-dss-server</include>
                <include>com.tiklab:tiklab-dss-common</include>
                <include>com.tiklab:tiklab-dss-client</include>
                <include>com.tiklab:tiklab-dss-annotation</include>
                <include>com.tiklab:tiklab-dsm-spring-boot-starter</include>
                <include>com.tiklab:tiklab-dsm-core</include>
                <include>com.tiklab:tiklab-dsm-annotation</include>
                <include>com.tiklab:tiklab-dfs-web</include>
                <include>com.tiklab:tiklab-dfs-server</include>
                <include>com.tiklab:tiklab-dfs-common</include>
                <include>com.tiklab:tiklab-dfs-client</include>
                <include>com.tiklab:tiklab-dcs-server</include>
                <include>com.tiklab:tiklab-dcs-common</include>
                <include>com.tiklab:tiklab-dcs-client</include>
                <include>com.tiklab:tiklab-dal-spring-boot-starter</include>
                <include>com.tiklab:tiklab-dal-jpa</include>
                <include>com.tiklab:tiklab-dal-jdbc</include>
                <include>com.tiklab:tiklab-dal-datasource</include>
                <include>com.tiklab:tiklab-core</include>
                <include>com.tiklab:tiklab-beans-core</include>
                <include>com.tiklab:tiklab-beans-annotation</include>
                <include>com.aliyun:tea-util</include>
                <include>com.aliyun:tea-openapi</include>
                <include>com.aliyun:tea</include>
                <include>org.springframework:spring-websocket</include>
                <include>org.springframework:spring-webmvc</include>
                <include>org.springframework:spring-web</include>
                <include>org.springframework:spring-tx</include>
                <include>org.springframework:spring-jdbc</include>
                <include>org.springframework:spring-jcl</include>
                <include>org.springframework:spring-expression</include>
                <include>org.springframework:spring-core</include>
                <include>org.springframework:spring-context</include>
                <include>org.springframework.boot:spring-boot-starter-web</include>
                <include>org.springframework.boot:spring-boot-starter-tomcat</include>
                <include>org.springframework.boot:spring-boot-starter-logging</include>
                <include>org.springframework.boot:spring-boot-starter-json</include>
                <include>org.springframework.boot:spring-boot-starter</include>
                <include>org.springframework.boot:spring-boot-autoconfigure</include>
                <include>org.springframework.boot:spring-boot</include>
                <include>org.springframework:spring-beans</include>
                <include>org.springframework:spring-aop</include>
                <include>org.yaml:snakeyaml</include>
                <include>com.tiklab:tiklab-mysql</include>
            </includes>
        </dependencySet>
        <dependencySet>
            <outputDirectory>/lib</outputDirectory>
            <excludes>
                <exclude>javax.activation:activation</exclude>
                <exclude>org.ow2.asm:asm</exclude>
                <exclude>org.aspectj:aspectjrt</exclude>
                <exclude>org.aspectj:aspectjweaver</exclude>
                <exclude>org.bouncycastle:bcprov-jdk15on</exclude>
                <exclude>org.checkerframework:checker-qual</exclude>
                <exclude>com.fasterxml:classmate</exclude>
                <exclude>commons-beanutils:commons-beanutils</exclude>
                <exclude>commons-codec:commons-codec</exclude>
                <exclude>commons-collections:commons-collections</exclude>
                <exclude>commons-dbcp:commons-dbcp</exclude>
                <exclude>commons-fileupload:commons-fileupload</exclude>
                <exclude>commons-lang:commons-lang</exclude>
                <exclude>commons-logging:commons-logging</exclude>
                <exclude>commons-pool:commons-pool</exclude>
                <exclude>org.apache.commons:commons-text</exclude>
                <exclude>com.aliyun:credentials-java</exclude>
                <exclude>com.aliyun:dysmsapi20170525</exclude>
                <exclude>net.sf.ehcache:ehcache</exclude>
                <exclude>com.aliyun:endpoint-util</exclude>
                <exclude>com.google.errorprone:error_prone_annotations</exclude>
                <exclude>com.google.guava:failureaccess</exclude>
                <exclude>com.alibaba:fastjson</exclude>
                <exclude>org.freemarker:freemarker</exclude>
                <exclude>com.google.code.gson:gson</exclude>
                <exclude>com.google.guava:guava</exclude>
                <exclude>com.caucho:hessian</exclude>
                <exclude>org.hibernate:hibernate-validator</exclude>
                <exclude>org.hsqldb:hsqldb</exclude>
                <exclude>org.ini4j:ini4j</exclude>
                <exclude>com.google.j2objc:j2objc-annotations</exclude>
                <exclude>com.fasterxml.jackson.core:jackson-annotations</exclude>
                <exclude>com.fasterxml.jackson.core:jackson-core</exclude>
                <exclude>com.fasterxml.jackson.core:jackson-databind</exclude>
                <exclude>com.fasterxml.jackson.datatype:jackson-datatype-jdk8</exclude>
                <exclude>com.fasterxml.jackson.datatype:jackson-datatype-jsr310</exclude>
                <exclude>com.fasterxml.jackson.module:jackson-module-parameter-names</exclude>
                <exclude>jakarta.annotation:jakarta.annotation-api</exclude>
                <exclude>org.javassist:javassist</exclude>
                <exclude>com.sun.mail:javax.mail</exclude>
                <exclude>javax.servlet:javax.servlet-api</exclude>
                <exclude>javax.xml.bind:jaxb-api</exclude>
                <exclude>com.sun.xml.bind:jaxb-core</exclude>
                <exclude>com.sun.xml.bind:jaxb-impl</exclude>
                <exclude>org.jboss.logging:jboss-logging</exclude>
                <exclude>joda-time:joda-time</exclude>
                <exclude>org.json:json</exclude>
                <exclude>com.google.code.findbugs:jsr305</exclude>
                <exclude>org.slf4j:jul-to-slf4j</exclude>
                <exclude>com.esotericsoftware:kryo</exclude>
                <exclude>com.esotericsoftware:kryo-shaded</exclude>
                <exclude>org.apache.logging.log4j:log4j-api</exclude>
                <exclude>org.apache.logging.log4j:log4j-to-slf4j</exclude>
                <exclude>ch.qos.logback:logback-classic</exclude>
                <exclude>ch.qos.logback:logback-core</exclude>
                <exclude>org.apache.lucene:lucene-analyzers-common</exclude>
                <exclude>org.apache.lucene:lucene-core</exclude>
                <exclude>org.apache.lucene:lucene-queries</exclude>
                <exclude>org.apache.lucene:lucene-queryparser</exclude>
                <exclude>org.apache.lucene:lucene-sandbox</exclude>
                <exclude>com.esotericsoftware:minlog</exclude>
                <exclude>mysql:mysql-connector-java</exclude>
                <exclude>org.jboss.netty:netty</exclude>
                <exclude>org.objenesis:objenesis</exclude>
                <exclude>ognl:ognl</exclude>
                <exclude>com.squareup.okhttp3:okhttp</exclude>
                <exclude>com.squareup.okio:okio</exclude>
                <exclude>com.aliyun:openapiutil</exclude>
                <exclude>org.jacoco:org.jacoco.agent</exclude>
                <exclude>com.google.protobuf:protobuf-java</exclude>
                <exclude>com.esotericsoftware:reflectasm</exclude>
                <exclude>org.slf4j:slf4j-api</exclude>
                <exclude>org.yaml:snakeyaml</exclude>
                <exclude>javax.validation:validation-api</exclude>
                <exclude>org.apache.tomcat.embed:tomcat-embed-websocket</exclude>
                <exclude>org.apache.tomcat.embed:tomcat-embed-el</exclude>
                <exclude>org.apache.tomcat.embed:tomcat-embed-core</exclude>
                <exclude>org.apache.tomcat:tomcat-annotations-api</exclude>
                <exclude>com.tiklab:tiklab-web-spring-boot-starter</exclude>
                <exclude>com.tiklab:tiklab-web-core</exclude>
                <exclude>com.tiklab:tiklab-utils</exclude>
                <exclude>com.tiklab:tiklab-user-spring-boot-starter</exclude>
                <exclude>com.tiklab:tiklab-toolkit-server</exclude>
                <exclude>com.tiklab:tiklab-toolkit-api</exclude>
                <exclude>com.tiklab:tiklab-rpc-spring-boot-starter</exclude>
                <exclude>com.tiklab:tiklab-rpc-server</exclude>
                <exclude>com.tiklab:tiklab-rpc-remoting</exclude>
                <exclude>com.tiklab:tiklab-rpc-common</exclude>
                <exclude>com.tiklab:tiklab-rpc-codec</exclude>
                <exclude>com.tiklab:tiklab-rpc-client</exclude>
                <exclude>com.tiklab:tiklab-rpc-annotation</exclude>
                <exclude>com.tiklab:tiklab-privilege-spring-boot-starter</exclude>
                <exclude>com.tiklab:tiklab-postin-annotation</exclude>
                <exclude>com.tiklab:tiklab-plugin-spring-boot-starter</exclude>
                <exclude>com.tiklab:tiklab-message-spring-boot-starter</exclude>
                <exclude>com.tiklab:tiklab-licence-spring-boot-starter</exclude>
                <exclude>com.tiklab:tiklab-join-core</exclude>
                <exclude>com.tiklab:tiklab-join-annotation</exclude>
                <exclude>com.tiklab:tiklab-eas-spring-boot-stater</exclude>
                <exclude>com.tiklab:tiklab-eam-spring-boot-starter</exclude>
                <exclude>com.tiklab:tiklab-dss-server</exclude>
                <exclude>com.tiklab:tiklab-dss-common</exclude>
                <exclude>com.tiklab:tiklab-dss-client</exclude>
                <exclude>com.tiklab:tiklab-dss-annotation</exclude>
                <exclude>com.tiklab:tiklab-dsm-spring-boot-starter</exclude>
                <exclude>com.tiklab:tiklab-dsm-core</exclude>
                <exclude>com.tiklab:tiklab-dsm-annotation</exclude>
                <exclude>com.tiklab:tiklab-dfs-web</exclude>
                <exclude>com.tiklab:tiklab-dfs-server</exclude>
                <exclude>com.tiklab:tiklab-dfs-common</exclude>
                <exclude>com.tiklab:tiklab-dfs-client</exclude>
                <exclude>com.tiklab:tiklab-dcs-server</exclude>
                <exclude>com.tiklab:tiklab-dcs-common</exclude>
                <exclude>com.tiklab:tiklab-dcs-client</exclude>
                <exclude>com.tiklab:tiklab-dal-spring-boot-starter</exclude>
                <exclude>com.tiklab:tiklab-dal-jpa</exclude>
                <exclude>com.tiklab:tiklab-dal-jdbc</exclude>
                <exclude>com.tiklab:tiklab-dal-datasource</exclude>
                <exclude>com.tiklab:tiklab-core</exclude>
                <exclude>com.tiklab:tiklab-beans-core</exclude>
                <exclude>com.tiklab:tiklab-beans-annotation</exclude>
                <exclude>com.aliyun:tea-util</exclude>
                <exclude>com.aliyun:tea-openapi</exclude>
                <exclude>com.aliyun:tea</exclude>
                <exclude>org.springframework:spring-websocket</exclude>
                <exclude>org.springframework:spring-webmvc</exclude>
                <exclude>org.springframework:spring-web</exclude>
                <exclude>org.springframework:spring-tx</exclude>
                <exclude>org.springframework:spring-jdbc</exclude>
                <exclude>org.springframework:spring-jcl</exclude>
                <exclude>org.springframework:spring-expression</exclude>
                <exclude>org.springframework:spring-core</exclude>
                <exclude>org.springframework:spring-context</exclude>
                <exclude>org.springframework.boot:spring-boot-starter-web</exclude>
                <exclude>org.springframework.boot:spring-boot-starter-tomcat</exclude>
                <exclude>org.springframework.boot:spring-boot-starter-logging</exclude>
                <exclude>org.springframework.boot:spring-boot-starter-json</exclude>
                <exclude>org.springframework.boot:spring-boot-starter</exclude>
                <exclude>org.springframework.boot:spring-boot-autoconfigure</exclude>
                <exclude>org.springframework.boot:spring-boot</exclude>
                <exclude>org.springframework:spring-beans</exclude>
                <exclude>org.springframework:spring-aop</exclude>
                <exclude>org.yaml:snakeyaml</exclude>
                <exclude>com.tiklab:tiklab-mysql</exclude>
            </excludes>
        </dependencySet>
    </dependencySets>
</assembly>